overwrite: true
schema:
  - ${SQUIDEX_BASE_URL}/api/content/${SQUIDEX_APP_NAME}/graphql:
      headers:
        Authorization: Bearer ${SQUIDEX_TOKEN}
documents:
  - 'src/**/*.ts'
  - '!src/autogenerated-gql/**/*'
generates:
  ./src/autogenerated-gql/:
    schema: ./src/autogenerated-schema.graphql
    preset: gql-tag-operations-preset
    plugins:
      - graphql-typescript-integration/empty
    config:
      avoidOptionals: true
      preResolveTypes: false
      skipTypename: true
      exportFragmentSpreadSubTypes: true
      withResultType: true
  ./src/schema/autogenerated-schema.graphql:
    plugins:
      - schema-ast
    config:
      includeDirectives: true
hooks:
  afterOneFileWrite:
    - prettier --write
pluckConfig:
  skipIndent: true
