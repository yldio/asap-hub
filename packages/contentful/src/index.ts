import { CreateClientParams, ContentfulClientApi } from 'contentful';
import { GraphQLClient } from 'graphql-request';

export const getGraphQLClient = ({
  space,
  accessToken,
  environment,
  ...rest
}: CreateClientParams) => {
  const endpoint = `https://graphql.contentful.com/content/v1/spaces/${space}/environments/${environment}`;
  return new GraphQLClient(endpoint, {
    headers: {
      authorization: `Bearer ${accessToken}`,
    },
  });
};

export { gql, GraphQLClient } from 'graphql-request';

export * from './entities';
export * from './utils';
export * from './crn/queries';
export type {
  FetchNewsByIdQuery,
  FetchNewsByIdQueryVariables,
  FetchNewsQuery,
  FetchNewsQueryVariables,
} from '../src/crn/autogenerated-gql/graphql';
export { BLOCKS } from '@contentful/rich-text-types';
export type { ContentfulClientApi };
