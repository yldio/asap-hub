import { pixels, Toast } from '@asap-hub/react-components';
import { css } from '@emotion/react';
import { workingGroupsImage } from '../images';
import { mainStyles } from '../layout';
import { PageBanner } from '../organisms';

const { rem } = pixels;

const bannerProps = {
  image: workingGroupsImage,
  position: 'center',
  title: 'Outputs',
  description: 'Explore the research outputs generated by the GP2 network.',
};

type OutputsPageProps = {
  outputBanner?: string;
  dismissBanner?: () => void;
};

const capitalizeFirstLetter = (string: string) =>
  string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();

const OutputsPage: React.FC<OutputsPageProps> = ({
  outputBanner,
  dismissBanner,
  children,
}) => (
  <>
    {outputBanner && (
      <div css={css({ width: '100vw', position: 'absolute', top: 0, left: 0 })}>
        <Toast accent="success" onClose={dismissBanner}>
          {capitalizeFirstLetter(outputBanner)}
        </Toast>
      </div>
    )}
    <article
      css={outputBanner ? { position: 'relative', marginTop: rem(48) } : {}}
    >
      <PageBanner {...bannerProps}></PageBanner>
      <main css={mainStyles}>{children}</main>
    </article>
  </>
);

export default OutputsPage;
